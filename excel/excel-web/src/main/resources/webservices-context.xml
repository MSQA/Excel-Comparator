<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:http="http://cxf.apache.org/transports/http/configuration"
	xmlns:sec="http://cxf.apache.org/configuration/security" xmlns:jaxws="http://cxf.apache.org/jaxws"
	xmlns:customer="http://customerservice.example.com/" xmlns:ela="http://webservice.elabadvisor.tools.gs.emc.com"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
        http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
        http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
        http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd
        http://cxf.apache.org/configuration/security http://cxf.apache.org/schemas/configuration/security.xsd
">

	<import resource="classpath:META-INF/cxf/cxf.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-http.xml" />

	<!-- Define a cxf endpoint based on client stub generated from a wsdl. It 
		is important to provide serviceName and endpointName so the wsdl is not needed 
		at runtime. As far as I know the serviceName and endpointName do not have 
		to have a special convention but it is good practice to use the service namespace 
		and Service Interface name in the names -->
	<!-- Test server is https://www.elatest.emc.com/services/elaApi -->
	<!-- Dev Staging server is http://10.64.46.64:8080/services/elaApi -->
	<!-- Live server is https://elabadvisor.emc.com/services/elaApi -->
	<jaxws:client id="elabApiService" serviceName="ela:elabApiService"
		endpointName="ela:elabApiServiceEndpoint" address="http://10.64.46.64:8080/services/elaApi"
		serviceClass="com.emc.gssd.ela.elaapi.ElaApi">
		<jaxws:properties>
			<entry key="mtom-enabled" value="true" />
		</jaxws:properties>
	</jaxws:client>

	<http:conduit name="*.http-conduit">
		<http:tlsClientParameters
			useHttpsURLConnectionDefaultSslSocketFactory="true">
		</http:tlsClientParameters>
		<!-- <http:authorization> <sec:UserName>username</sec:UserName> <sec:Password>secret</sec:Password> 
			</http:authorization> -->
		<!-- CTSESSION Cookie got from https://sso.emc.com/authsso/ -->
		<!-- Set Timeout Below in ms -->
		<http:client AutoRedirect="false" Connection="Keep-Alive"
			ReceiveTimeout="7080000" AllowChunking="false" />
	</http:conduit>

	<bean id="stagingClient" class="com.emc.qa.art.webservices.ElaClientImpl">
		<constructor-arg>
			<ref bean="elabApiService" />
		</constructor-arg>
	</bean>
</beans>
